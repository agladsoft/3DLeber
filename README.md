# Leber — 3D конструктор детских площадок

## Описание проекта

Интерактивное веб-приложение для проектирования и визуализации детских площадок в 3D. Позволяет размещать, перемещать, вращать и изменять размеры объектов на площадке, а также управлять самой площадкой и делать скриншоты итогового проекта. Разработано на JavaScript с использованием Three.js.

## Основные возможности

- Интерактивное размещение и удаление оборудования на площадке
- Перемещение, вращение и масштабирование объектов
- Изменение размеров и типа площадки (выбор из нескольких вариантов)
- Управление списком размещённых элементов
- Визуализация размеров объектов и площадки (стрелки, подписи)
- Проверка коллизий при размещении объектов
- Создание скриншотов сцены
- Drag&Drop интерфейс
**Встроенная система справки с видео-инструкциями**

## Установка и запуск

1. Клонируйте репозиторий:
   ```
   git clone https://github.com/agladsoft/3DLeber.git
   ```
2. Перейдите в директорию проекта:
   ```
   cd 3DLeber
   ```
3. Скачайте и добавьте необходимые 3D-модели в директорию `/models/` (см. `/models/README.md`)
4. Установите зависимости:
   ```
   npm install
   ```
5. Запустите проект в режиме разработки:
   ```
   npm run dev
   ```

## Технологический стек

- JavaScript (ES6+)
- Three.js — 3D-рендеринг
- Vite.js — сборка и запуск

## Структура проекта

- `/js/` — основная логика приложения
  - `app.js` — точка входа, инициализация приложения
  - `core/` — ядро: инициализация, обработка ошибок, event handlers
  - `modules/` — вспомогательные модули:
    - `dimensionDisplay/` — отображение размеров (стрелки, подписи)
    - `collisionDetection.js` — проверка коллизий
    - `objectManager.js`, `objectOperations.js` — управление объектами
    - `positionHelpers.js` — позиционирование
    - `loaders.js` — загрузка моделей
  - `scene/` — управление сценой, камерой, сеткой, скриншотами
  - `ui/` — drag&drop, манипуляции, панель управления, таблица элементов
  - `playground/` — логика площадки (загрузка, resize, UI)
  - `helpModal.js` — модуль управления справкой с видео-инструкциями
  - `utils.js`, `fixes.js`, `config.js` — утилиты, конфиги, фиксы
- `/models/` — 3D-модели (GLB, FBX, STL), которые нужно добавить вручную
  - `/playgrounds/` — отдельные модели площадок
- `/textures/` — текстуры и изображения для моделей и сцены
  - `/citybox/` — текстуры окружения
- `/videos/` — видео файлы для системы справки
- `index.html` — основной HTML-файл, интерфейс приложения
- `styles.css` — стили

## Принцип работы

1. Пользователь запускает приложение и видит кнопку "Запустить приложение".
2. После нажатия появляется модальное окно с 3D-конструктором.
3. Вся инициализация происходит через функцию `window.initApp`, которая:
   - Инициализирует сцену Three.js, камеру, освещение
   - Загружает выбранную площадку
   - Инициализирует UI и обработчики событий
   - Проверяет позиции всех объектов
   - Запускает модуль отображения размеров
   - Удаляет safety-зоны
   - Запускает цикл рендеринга
4. Пользователь может перетаскивать объекты на площадку, изменять размеры, делать скриншоты и управлять элементами через UI.

## Поддерживаемые форматы 3D-моделей

- GLB/GLTF (основной формат)
- STL
- FBX

## Лицензия

[Укажите лицензию]

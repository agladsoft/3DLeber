<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>3D –ü–ª–æ—â–∞–¥–∫–∞</title>
    <link rel="stylesheet" href="styles.css">
    <script type="module" src="https://unpkg.com/@google/model-viewer/dist/model-viewer.min.js"></script>
    <style>
        html, body { width: 100%; height: 100%; margin: 0; overflow: hidden; }
        canvas { width: 100%; height: 100%; display: block; }
    </style>
</head>
<body>
    <!-- –ö–Ω–æ–ø–∫–∞ –∑–∞–ø—É—Å–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è -->
    <div id="launchContainer">
        <button id="launchApp">üöÄ –ó–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ</button>
    </div>
    
    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –≤—ã–±–æ—Ä–∞ –ø–ª–æ—â–∞–¥–∫–∏ -->
    <div id="platformSelectModal" class="modal">
        <div class="modal-content platform-select-content">
            <h3>–í—ã–±–µ—Ä–∏—Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–ª–æ—â–∞–¥–∫–∏</h3>
            
            <!-- –î–æ–±–∞–≤–ª—è–µ–º –ø—Ä–µ–≤—å—é –ø–ª–æ—â–∞–¥–∫–∏ -->
            <div class="playground-preview">
                <model-viewer id="playgroundPreview" 
                    src="models/playgrounds/playground.glb" 
                    auto-rotate 
                    camera-controls 
                    disable-zoom 
                    ar-status="not-presenting" 
                    rotation-per-second="30deg" 
                    camera-orbit="0deg 75deg 4m"
                    field-of-view="20deg"
                    alt="–ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä –ø–ª–æ—â–∞–¥–∫–∏">
                </model-viewer>
            </div>
            
            <div class="platform-settings">
                <div class="control-group">
                    <label for="modalPlaygroundType">–ü–ª–æ—â–∞–¥–∫–∞:</label>
                    <select id="modalPlaygroundType">
                        <option value="playground.glb" selected>–ü–ª–æ—â–∞–¥–∫–∞ 1</option>
                        <option value="playground2.glb">–ü–ª–æ—â–∞–¥–∫–∞ 2</option>
                        <option value="basketball_court.glb">–ü–ª–æ—â–∞–¥–∫–∞ 3</option>
                    </select>
                </div>
                <div class="control-group">
                    <label for="modalPlaygroundWidth">–®–∏—Ä–∏–Ω–∞ (–º):</label>
                    <input type="number" id="modalPlaygroundWidth" min="5" max="50" value="37.82" step="1">
                </div>
                <div class="control-group">
                    <label for="modalPlaygroundLength">–î–ª–∏–Ω–∞ (–º):</label>
                    <input type="number" id="modalPlaygroundLength" min="5" max="50" value="30.03" step="1">
                </div>
            </div>
            <div class="platform-buttons">
                <button id="startAppButton" class="action-button">üöÄ –ó–∞–ø—É—Å—Ç–∏—Ç—å</button>
                <button id="cancelAppButton" class="action-button">‚ùå –û—Ç–º–µ–Ω–∞</button>
            </div>
        </div>
    </div>
    
    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è -->
    <div id="appModal" class="modal">
        <div class="modal-content">
            <button id="toggleSidebar" class="toggle-sidebar-button">
                <span class="toggle-icon">üéÆ</span>
            </button>
            <div id="sidebar">
                <h3>–í—ã–±–µ—Ä–∏—Ç–µ —ç–ª–µ–º–µ–Ω—Ç</h3>
                <div class="item" draggable="true" data-model="0001.glb">
                    <model-viewer src="models/0001.glb" auto-rotate camera-controls disable-zoom ar-status="not-presenting" rotation-per-second="30deg" alt="MG0001 –ö–∞—á–µ–ª–∏-–±–∞–ª–∞–Ω—Å–∏—Ä –¥–≤–æ–π–Ω–æ–π"></model-viewer>
                    <p>MG0001 –ö–∞—á–µ–ª–∏-–±–∞–ª–∞–Ω—Å–∏—Ä –¥–≤–æ–π–Ω–æ–π</p>
                </div>
                <div class="item" draggable="true" data-model="242.glb">
                    <model-viewer src="models/242.glb" auto-rotate camera-controls disable-zoom ar-status="not-presenting" rotation-per-second="30deg" alt="–õ–ì–ì-24-2 –ì–æ—Ä–∫–∞ h=950 (HPL)"></model-viewer>
                    <p>–õ–ì–ì-24-2 –ì–æ—Ä–∫–∞ h=950 (HPL)</p>
                </div>
                <div class="item" draggable="true" data-model="0502.glb">
                    <model-viewer src="models/0502.glb" auto-rotate camera-controls disable-zoom ar-status="not-presenting" rotation-per-second="30deg" alt="MG0502 –ö–∞—á–µ–ª–∏ –æ–¥–∏–Ω–∞—Ä–Ω—ã–µ"></model-viewer>
                    <p>MG0502 –ö–∞—á–µ–ª–∏ –æ–¥–∏–Ω–∞—Ä–Ω—ã–µ</p>
                </div>
                <div class="item" draggable="true" data-model="0519.glb">
                    <model-viewer src="models/0519.glb" auto-rotate camera-controls disable-zoom ar-status="not-presenting" rotation-per-second="30deg" alt="–ö–∞—á–µ–ª–∏ 0519"></model-viewer>
                    <p>–ö–∞—á–µ–ª–∏ 0519</p>
                </div>
                <div class="item" draggable="true" data-model="3540.glb">
                    <model-viewer src="models/3540.glb" auto-rotate camera-controls disable-zoom ar-status="not-presenting" rotation-per-second="30deg" alt="MG3540 –°–ø–æ—Ä—Ç–∏–≤–Ω–æ–µ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ –õ–∞–∑–∞—Ç–µ–ª—å–Ω—ã–π –∫–æ–º–ø–ª–µ–∫—Å"></model-viewer>
                    <p>MG3540 –°–ø–æ—Ä—Ç–∏–≤–Ω–æ–µ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ –õ–∞–∑–∞—Ç–µ–ª—å–Ω—ã–π –∫–æ–º–ø–ª–µ–∫—Å</p>
                </div>
                <div class="item" draggable="true" data-model="4209.glb">
                    <model-viewer src="models/4209.glb" auto-rotate camera-controls disable-zoom ar-status="not-presenting" rotation-per-second="30deg" alt="MG4209 –°–ø–æ—Ä—Ç–∏–≤–Ω—ã–π –∫–æ–º–ø–ª–µ–∫—Å"></model-viewer>
                    <p>MG4209 –°–ø–æ—Ä—Ç–∏–≤–Ω—ã–π –∫–æ–º–ø–ª–µ–∫—Å</p>
                </div>
                <div class="item" draggable="true" data-model="Taiga_v1.glb">
                    <model-viewer src="models/Taiga_v1.glb" auto-rotate camera-controls disable-zoom ar-status="not-presenting" rotation-per-second="30deg" alt="–ö–∞—Ä–∫–∞—Å –∫–∞—á–µ–ª–µ–π-–±–∞–ª–∞–Ω—Å–∏—Ä–∞ -–¢–∞–π–≥–∞-"></model-viewer>
                    <p>–ö–∞—Ä–∫–∞—Å –∫–∞—á–µ–ª–µ–π-–±–∞–ª–∞–Ω—Å–∏—Ä–∞ –¢–∞–π–≥–∞</p>
                </div>
                <div class="item" draggable="true" data-model="lgd_3.glb">
                    <model-viewer src="models/lgd_3.glb" auto-rotate camera-controls disable-zoom ar-status="not-presenting" rotation-per-second="30deg" alt="–ú–æ–¥–µ–ª—å lgd_3"></model-viewer>
                    <p>–ú–æ–¥–µ–ª—å lgd_3</p>
                </div>
                <div class="item" draggable="true" data-model="lgk_11.glb">
                    <model-viewer src="models/lgk_11.glb" auto-rotate camera-controls disable-zoom ar-status="not-presenting" rotation-per-second="30deg" alt="–ú–æ–¥–µ–ª—å lgk_11"></model-viewer>
                    <p>–ú–æ–¥–µ–ª—å lgk_11</p>
                </div>
                <div class="item" draggable="true" data-model="–º–∏—Å—Å—É—Ä–∏.glb">
                    <model-viewer src="models/–º–∏—Å—Å—É—Ä–∏.glb" auto-rotate camera-controls disable-zoom ar-status="not-presenting" rotation-per-second="30deg" alt="–ú–æ–¥–µ–ª—å lgk_314"></model-viewer>
                    <p>–ú–æ–¥–µ–ª—å lgk_314</p>
                </div>
                <div class="item" draggable="true" data-model="MG0001 2024-09 R2 –ú–æ–¥–µ–ª—å.glb">
                    <model-viewer src="models/MG0001 2024-09 R2 –ú–æ–¥–µ–ª—å.glb" auto-rotate camera-controls disable-zoom ar-status="not-presenting" rotation-per-second="30deg" alt="MG0001 –ö–∞—á–µ–ª–∏-–±–∞–ª–∞–Ω—Å–∏—Ä –¥–≤–æ–π–Ω–æ–π"></model-viewer>
                    <p>MG0001 –ö–∞—á–µ–ª–∏-–±–∞–ª–∞–Ω—Å–∏—Ä –¥–≤–æ–π–Ω–æ–π</p>
                </div>
                <div class="item" draggable="true" data-model="–¥—É–≥–∞.glb">
                    <model-viewer src="models/–¥—É–≥–∞.glb" auto-rotate camera-controls disable-zoom ar-status="not-presenting" rotation-per-second="30deg" alt="–ú–æ–¥–µ–ª—å msk_105"></model-viewer>
                    <p>–ú–æ–¥–µ–ª—å msk_105</p>
                </div>
                <div class="item" draggable="true" data-model="msk_201.glb">
                    <model-viewer src="models/msk_201.glb" auto-rotate camera-controls disable-zoom ar-status="not-presenting" rotation-per-second="30deg" alt="–ú–æ–¥–µ–ª—å msk_201"></model-viewer>
                    <p>–ú–æ–¥–µ–ª—å msk_201</p>
                </div>
            </div>
            <canvas id="renderCanvas"></canvas>
            <button id="toggleControlPanel" class="toggle-panel-button">
                <span class="toggle-icon">‚öôÔ∏è</span>
            </button>
            <div id="controlPanel">
                <div class="control-panel">
                    <button id="changePlayground">üîÅ –°–º–µ–Ω–∏—Ç—å –ø–ª–æ—â–∞–¥–∫—É</button>
                    <button id="resetView">üëÅÔ∏è‚Äçüó®Ô∏è –°–±—Ä–æ—Å–∏—Ç—å –≤–∏–¥</button>
                    <button id="topView">üîù –í–∏–¥ —Å–≤–µ—Ä—Ö—É (—Å–µ—Ç–∫–∞ 1√ó1–º)</button>
                    <button id="toggleDimensions">üìè –°–∫—Ä—ã—Ç—å —Ä–∞–∑–º–µ—Ä—ã</button>
                    <button id="saveScreenshot">üì∏ –°–¥–µ–ª–∞—Ç—å —Å–∫—Ä–∏–Ω—à–æ—Ç</button>
                    <button id="deleteAllModels">üóëÔ∏è –£–¥–∞–ª–∏—Ç—å –≤—Å–µ –º–æ–¥–µ–ª–∏</button>
                    <button id="closeAppButton">‚ùå –ó–∞–∫—Ä—ã—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ</button>
                    <div id="playgroundStatus" style="margin-top: 10px; font-size: 12px; color: #666;">
                        –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ä–∞–∑–º–µ—Ä–∞—Ö –ø–ª–æ—â–∞–¥–∫–∏
                    </div>
                </div>
            </div>
            <div id="dimensionLabels">
                <div id="widthLabel" class="dimension-label">10–º</div>
                <div id="lengthLabel" class="dimension-label">10–º</div>
            </div>
            <!-- –£–¥–∞–ª—è–µ–º —ç–ª–µ–º–µ–Ω—Ç –ø–æ–∑–∏—Ü–∏–æ–Ω–Ω–æ–≥–æ —Å—Ç–∞—Ç—É—Å–∞ -->
            <div id="notification" class="notification hidden">
                <div class="notification-content">
                    <span class="notification-message">–û–±—ä–µ–∫—Ç –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å —Ä–∞–∑–º–µ—â–µ–Ω –≤ —ç—Ç–æ–π –ø–æ–∑–∏—Ü–∏–∏!</span>
                    <span class="notification-close" onclick="document.getElementById('notification').classList.add('hidden')">&times;</span>
                </div>
            </div>
            <!-- –î–æ–±–∞–≤–ª—è–µ–º –æ–≤–µ—Ä–ª–µ–π —Å –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–º –∑–∞–≥—Ä—É–∑–∫–∏ -->
            <div id="loadingOverlay" class="loading-overlay hidden">
                <div class="loading-spinner"></div>
                <div class="loading-text">–ó–∞–≥—Ä—É–∑–∫–∞ –ø–ª–æ—â–∞–¥–∫–∏...</div>
            </div>
            <!-- –ü–æ–¥–∫–ª—é—á–∞–µ–º –º–æ–¥—É–ª–∏ JavaScript —Å —É–∫–∞–∑–∞–Ω–∏–µ–º type="module" -->
            <script type="module" src="js/app.js"></script>
        </div>
    </div>
    
    <!-- –ü–æ–¥–∫–ª—é—á–∞–µ–º –º–æ–¥—É–ª—å –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –º–æ–¥–∞–ª—å–Ω—ã–º –æ–∫–Ω–æ–º -->
    <script type="module" src="js/modal.js"></script>
</body>
</html>
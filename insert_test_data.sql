-- Вставка тестового пользователя
INSERT INTO users (user_id) 
VALUES ('id_12345678')
ON CONFLICT (user_id) DO NOTHING;

-- Вставка моделей
INSERT INTO models (article, name, description, category) VALUES
    ('TE319', 'ЛГД-19 Домик Белочка (TE319)', 'Детский игровой домик ''Белочка''', 'Домики'),
    ('FISH', 'ЛГК-24.7 Качалка на пружине Рыбка', 'Качалка на пружине в виде рыбки', 'Качалки'),
    ('TE706', 'ЛГИК-7.26 Игровой комплекс Весна-6 (TE706)', 'Игровой комплекс ''Весна-6''', 'Комплексы'),
    ('TE703', 'ЛГИК-7.03 Игровой комплекс Черепашка (TE703)', 'Игровой комплекс ''Черепашка''', 'Комплексы'),
    ('TE701', 'ЛГИК-7.01 Игровой комплекс Весна (TE701)', 'Игровой комплекс ''Весна''', 'Комплексы'),
    ('1384', 'ЛГД-29 Домик Спускаемый модуль (1384)', 'Детский игровой домик ''Спускаемый модуль''', 'Домики'),
    ('3701.2', 'ЛГД-25 Домик Вертолет (3701.2)', 'Детский игровой домик ''Вертолет''', 'Домики'),
    ('TE323', 'ЛГД-23 Домик Деревня (TE323)', 'Детский игровой домик ''Деревня''', 'Домики'),
    ('1364', 'ЛГД-14 Беседка Хижина (1364)', 'Детская беседка ''Хижина''', 'Беседки'),
    ('2279.50', 'ЛГВО-421 Спортивный комплекс ЛГВО-421 (Нержавеющая сталь) (2279.50)', 'Спортивный комплекс из нержавеющей стали', 'Спортивные комплексы')
ON CONFLICT (article) DO UPDATE 
SET name = EXCLUDED.name,
    description = EXCLUDED.description,
    category = EXCLUDED.category;

-- Вставка сессий
INSERT INTO sessions (user_id, model_id, quantity)
SELECT 
    u.id,
    m.id,
    CASE m.article
        WHEN 'TE319' THEN 2
        ELSE 1
    END as quantity
FROM users u
CROSS JOIN models m
WHERE u.user_id = 'id_12345678'
ON CONFLICT DO NOTHING; 
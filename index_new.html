<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>3D –ü–ª–æ—â–∞–¥–∫–∞ - –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ç–æ—Ä –¥–µ—Ç—Å–∫–∏—Ö –ø–ª–æ—â–∞–¥–æ–∫</title>
    
    <!-- –ü–æ–¥–∫–ª—é—á–∞–µ–º –Ω–æ–≤—ã–µ —Å—Ç–∏–ª–∏ -->
    <link rel="stylesheet" href="css/styles_new.css">
    
    <!-- Model Viewer -->
    <script type="module" src="https://unpkg.com/@google/model-viewer/dist/model-viewer.min.js"></script>
    
    <!-- –®—Ä–∏—Ñ—Ç—ã -->
    <link href="https://fonts.googleapis.com/css2?family=Inter+Tight:wght@400;500;600;700&display=swap" rel="stylesheet">
    
    <style>
        html, body { width: 100%; height: 100%; margin: 0; overflow: hidden; }
        canvas { width: 100%; height: 100%; display: block; }
    </style>
</head>
<body>
    <!-- –ö–Ω–æ–ø–∫–∞ –∑–∞–ø—É—Å–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è -->
    <div id="launchContainer">
        <button id="launchApp">–ó–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ</button>
    </div>
    
    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –≤—ã–±–æ—Ä–∞ –ø–ª–æ—â–∞–¥–∫–∏ -->
    <div id="platformSelectModal" class="modal">
        <div class="modal-content platform-select-content">
            <h3>–ü–ª–æ—â–∞–¥–∫–∞</h3>
            
            <div class="platform-settings">
                <div class="control-group">
                    <label for="modalPlaygroundWidth">–®–∏—Ä–∏–Ω–∞ (–º):</label>
                    <input type="number" id="modalPlaygroundWidth" min="10" max="100" value="40" step="1">
                </div>
                <div class="control-group">
                    <label for="modalPlaygroundLength">–î–ª–∏–Ω–∞ (–º):</label>
                    <input type="number" id="modalPlaygroundLength" min="10" max="100" value="30" step="1">
                </div>
                <div class="control-group">
                    <label>–¶–≤–µ—Ç –ø–ª–æ—â–∞–¥–∫–∏:</label>
                    <div class="horizontal-color-picker modal-color-picker">
                        <span class="color-square" data-color="—Å–µ—Ä—ã–π" style="background-color: #D9D9D9;"></span>
                        <span class="color-square" data-color="—á–µ—Ä–Ω—ã–π" style="background-color: #100F0F;"></span>
                        <span class="color-square selected" data-color="–∑–µ–ª–µ–Ω—ã–π" style="background-color: #2E7D32;"></span>
                        <span class="color-square" data-color="–∫–æ—Ä–∏—á–Ω–µ–≤—ã–π" style="background-color: #5D4037;"></span>
                    </div>
                    <input type="hidden" id="modalPlaygroundColor" value="–∑–µ–ª–µ–Ω—ã–π">
                </div>
            </div>
            <div class="platform-buttons">
                <button id="startAppButton" class="action-button">–ó–∞–∫–∞–∑–∞—Ç—å –ø–ª–æ—â–∞–¥–∫—É</button>
            </div>
        </div>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–µ—Å—Å–∏–µ–π -->
    <div id="sessionModal" class="modal">
        <div class="modal-content session-select-content">
            <h3>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–µ—Å—Å–∏–µ–π</h3>
            <div class="session-buttons">
                <button id="continueSessionButton" class="action-button">–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å —Å–µ—Å—Å–∏—é</button>
                <button id="newSessionButton" class="action-button">–ù–∞—á–∞—Ç—å –Ω–æ–≤—É—é —Å–µ—Å—Å–∏—é</button>
            </div>
        </div>
    </div>
    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è -->
    <div id="appModal" class="modal">
        <div class="modal-content">
            <!-- Canvas –¥–ª—è 3D —Å—Ü–µ–Ω—ã -->
            <canvas id="renderCanvas"></canvas>
            
            <!-- –ö–Ω–æ–ø–∫–∞ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è –ª–µ–≤–æ–≥–æ –º–µ–Ω—é -->
            <button id="toggleSidebar" class="toggle-sidebar-button">
                <span class="toggle-icon">‚ò∞</span>
            </button>
            
            <!-- –õ–µ–≤–æ–µ –º–µ–Ω—é —Å –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º–∏ -->
            <div id="sidebar">
                <div class="categories-header">
                    <div class="toggle-categories">
                        <span>‚Üê</span>
                    </div>
                    <h3 class="categories-title">–ö–∞—Ç–µ–≥–æ—Ä–∏–∏ –æ–±—ä–µ–∫—Ç–æ–≤</h3>
                </div>
                
                <!-- –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª–µ–Ω—ã –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                <div id="categoriesList">
                    <!-- –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –∏–∑ JS -->
                </div>
                
                <!-- –°–ø–∏—Å–æ–∫ –æ–±—ä–µ–∫—Ç–æ–≤ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ -->
                <div id="objectsList" style="display: none;">
                    <!-- –û–±—ä–µ–∫—Ç—ã –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –∏–∑ JS -->
                </div>
            </div>
            
            <!-- –ü—Ä–∞–≤–∞—è –ø–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è -->
            <div id="controlPanel">
                <button id="toggleControlPanel" class="toggle-panel-button">
                    <span class="toggle-icon">‚öôÔ∏è</span>
                </button>
                
                <div class="panel-tools">
                    <button class="tool-button" id="resetView" title="–°–±—Ä–æ—Å–∏—Ç—å –≤–∏–¥">
                        <span>‚Üª</span>
                    </button>
                    <button class="tool-button" id="topView" title="–í–∏–¥ —Å–≤–µ—Ä—Ö—É">
                        <span>‚¨Ü</span>
                    </button>
                    <button class="tool-button" id="toggleDimensions" title="–†–∞–∑–º–µ—Ä—ã">
                        <span>üìè</span>
                    </button>
                    <button class="tool-button" id="toggleSafetyZone" title="–ë–µ–∑–æ–ø–∞—Å–Ω–∞—è –∑–æ–Ω–∞">
                        <span>üõ°Ô∏è</span>
                    </button>
                    <button class="tool-button" id="saveScreenshot" title="–°–∫—Ä–∏–Ω—à–æ—Ç">
                        <span>üì∏</span>
                    </button>
                    <button class="tool-button" id="playgroundButton" title="–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–ª–æ—â–∞–¥–∫–∏">
                        <span>üé®</span>
                    </button>
                    <button class="tool-button" id="deleteAllModels" title="–£–¥–∞–ª–∏—Ç—å –≤—Å–µ">
                        <span>üóëÔ∏è</span>
                    </button>
                    <button class="tool-button" id="closeAppButton" title="–ó–∞–∫—Ä—ã—Ç—å">
                        <span>‚úï</span>
                    </button>
                </div>
            </div>
            
            <!-- –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–ª–æ—â–∞–¥–∫–∏ (—Ä–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –ø–∞–Ω–µ–ª—å) -->
            <div id="playgroundSettings" class="playground-settings hidden">
                <h3>–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–ª–æ—â–∞–¥–∫–∏</h3>
                
                <table id="playgroundColorPicker" class="color-table">
                    <tr>
                        <td align="center"><div class="color-square" data-color="—Å–µ—Ä—ã–π" style="background-color: #D9D9D9;"></div></td>
                        <td align="center"><div class="color-square" data-color="—á–µ—Ä–Ω—ã–π" style="background-color: #100F0F;"></div></td>
                        <td align="center"><div class="color-square selected" data-color="–∑–µ–ª–µ–Ω—ã–π" style="background-color: #2E7D32;"></div></td>
                        <td align="center"><div class="color-square" data-color="–∫–æ—Ä–∏—á–Ω–µ–≤—ã–π" style="background-color: #5D4037;"></div></td>
                    </tr>
                </table>
                
                <div class="size-controls">
                    <div class="size-inputs-row">
                        <div class="size-input-container">
                            <input type="text" id="widthInput" value="40" class="size-input" inputmode="numeric" pattern="[0-9]*">
                        </div>
                        <div class="size-input-container">
                            <input type="text" id="lengthInput" value="30" class="size-input" inputmode="numeric" pattern="[0-9]*">
                        </div>
                    </div>
                    <div class="sliders-row">
                        <div class="slider-container">
                            <input type="range" id="widthSlider" min="10" max="100" value="40" step="1" class="slider">
                        </div>
                        <div class="slider-container">
                            <input type="range" id="lengthSlider" min="10" max="100" value="30" step="1" class="slider">
                        </div>
                    </div>
                </div>
                
                <div id="playgroundStatus">
                    –ü–ª–æ—â–∞–¥–∫–∞: 40–º √ó 30–º
                </div>
            </div>
            <!-- –ú–µ—Ç–∫–∏ —Ä–∞–∑–º–µ—Ä–æ–≤ -->
            <div id="dimensionLabels">
                <div id="widthLabel" class="dimension-label">40–º</div>
                <div id="lengthLabel" class="dimension-label">30–º</div>
            </div>
            
            <!-- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è -->
            <div id="notification" class="notification hidden">
                <div class="notification-content">
                    <span class="notification-message">–û–±—ä–µ–∫—Ç –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å —Ä–∞–∑–º–µ—â–µ–Ω –≤ —ç—Ç–æ–π –ø–æ–∑–∏—Ü–∏–∏!</span>
                    <span class="notification-close" onclick="document.getElementById('notification').classList.add('hidden')">&times;</span>
                </div>
            </div>
            
            <!-- –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä –∑–∞–≥—Ä—É–∑–∫–∏ -->
            <div id="loadingOverlay" class="loading-overlay hidden">
                <div class="loading-spinner"></div>
                <div class="loading-text">–ó–∞–≥—Ä—É–∑–∫–∞ –ø–ª–æ—â–∞–¥–∫–∏...</div>
            </div>
            
            <!-- –ü–æ–¥–∫–ª—é—á–∞–µ–º –º–æ–¥—É–ª–∏ JavaScript -->
            <script type="module" src="js/models.js"></script>
            <script type="module" src="js/app.js"></script>
        </div>
    </div>
    
    <!-- –ü–æ–¥–∫–ª—é—á–∞–µ–º –º–æ–¥—É–ª—å –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –º–æ–¥–∞–ª—å–Ω—ã–º –æ–∫–Ω–æ–º -->
    <script type="module" src="js/modal.js"></script>
</body>
</html>